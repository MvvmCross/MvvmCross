# common configuration for ALL branches
version: 5.0.{build}
image: Visual Studio 2017
environment:
  SONAR_KEY:
    secure: LQJ29ZRlb8t4lCkIDOoFz7iK06dDxoAeuzcOwHV2gMnoPYZ3uFt6+htWzu59Tsqk
build_script:
  - ps: .\build.ps1
test: off

# override settings for specific branches
for:
-
  branches:
      only:
        - master
  environment:
    NUGET_SOURCE: https://www.nuget.org/api/v2/package
    NUGET_APIKEY:
      secure: I7T89cNuXIoOooGTaZm/nKrJ5JwZpt3F82D6Y7bJoxO5yQ6hpDnz0xQhef/KKr0G
-
  branches:
      only:
        - develop
  environment:
    NUGET_SOURCE: https://www.myget.org/F/mvvmcross/api/v2/package
    NUGET_APIKEY:
      secure: m3uewWCh6Y5jqTZIfwMDfs8GWdbwTZjfiEl13AWY7T3u3bPspGA/lgwe8jdxjBm9